<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>深度探索C++对象模型总结 | byhj zzZ~~~</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="C++对象模型主要解释为：

语言中直接支持面向对象程序设计的部分
对于各种支持的底层实现机制

关于对象　　C语言中，数据和处理数据的操作时分开声明，而C++采用抽象数据类型进行操作。在C++加上封装并未带来布局成本，在布局以及存取时间上主要的额外负担是由virtual引起的：

virtual function 机制：用以支持一个有效率的“执行期绑定”。
virtual base blass">
<meta property="og:type" content="article">
<meta property="og:title" content="深度探索C++对象模型总结">
<meta property="og:url" content="http://byhj.github.io/2015/12/17/C++ObjectModel/index.html">
<meta property="og:site_name" content="byhj zzZ~~~">
<meta property="og:description" content="C++对象模型主要解释为：

语言中直接支持面向对象程序设计的部分
对于各种支持的底层实现机制

关于对象　　C语言中，数据和处理数据的操作时分开声明，而C++采用抽象数据类型进行操作。在C++加上封装并未带来布局成本，在布局以及存取时间上主要的额外负担是由virtual引起的：

virtual function 机制：用以支持一个有效率的“执行期绑定”。
virtual base blass">
<meta property="og:updated_time" content="2016-03-27T11:08:53.498Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="深度探索C++对象模型总结">
<meta name="twitter:description" content="C++对象模型主要解释为：

语言中直接支持面向对象程序设计的部分
对于各种支持的底层实现机制

关于对象　　C语言中，数据和处理数据的操作时分开声明，而C++采用抽象数据类型进行操作。在C++加上封装并未带来布局成本，在布局以及存取时间上主要的额外负担是由virtual引起的：

virtual function 机制：用以支持一个有效率的“执行期绑定”。
virtual base blass">
  
    <link rel="alternative" href="/atom.xml" title="byhj zzZ~~~" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
    <link rel="icon" href="/byhj.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/img/byhj.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">byhj</a></h1>
		</hgroup>

		
		<p class="header-subtitle">世上的鲜花会盛开，壮丽不朽的事物会接踵而来</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/byhj" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/byhj" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/byhj" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Book/" style="font-size: 10px;">Book</a> <a href="/tags/C/" style="font-size: 17.5px;">C++</a> <a href="/tags/Cocos2dx/" style="font-size: 10px;">Cocos2dx</a> <a href="/tags/D3D/" style="font-size: 12.5px;">D3D</a> <a href="/tags/D3D12/" style="font-size: 12.5px;">D3D12</a> <a href="/tags/Direct3D/" style="font-size: 12.5px;">Direct3D</a> <a href="/tags/DirectX/" style="font-size: 15px;">DirectX</a> <a href="/tags/Framework/" style="font-size: 12.5px;">Framework</a> <a href="/tags/GUI/" style="font-size: 10px;">GUI</a> <a href="/tags/Math/" style="font-size: 12.5px;">Math</a> <a href="/tags/OGRE/" style="font-size: 10px;">OGRE</a> <a href="/tags/OpenGL/" style="font-size: 20px;">OpenGL</a> <a href="/tags/Pattern/" style="font-size: 10px;">Pattern</a> <a href="/tags/Qt静态编译-MSVC/" style="font-size: 10px;">Qt静态编译-MSVC</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">爱书爱自然的一只鱼~~</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">byhj</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/assets/img/byhj.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">byhj</h1>
			</hgroup>
			
			<p class="header-subtitle">世上的鲜花会盛开，壮丽不朽的事物会接踵而来</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/byhj" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/byhj" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/byhj" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-C++ObjectModel" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/17/C++ObjectModel/" class="article-date">
  	<time datetime="2015-12-17T13:11:28.000Z" itemprop="datePublished">2015-12-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      深度探索C++对象模型总结
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    
    <div class="article-entry" itemprop="articleBody">
  
    
    <div id="toc" class="article-toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#关于对象"><span class="toc-number">1.</span> <span class="toc-text">关于对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#C++对象模型"><span class="toc-number">1.1.</span> <span class="toc-text">C++对象模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关键词所带来的差异"><span class="toc-number">1.2.</span> <span class="toc-text">关键词所带来的差异</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象的差异"><span class="toc-number">1.3.</span> <span class="toc-text">对象的差异</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#构造函数语意学"><span class="toc-number">2.</span> <span class="toc-text">构造函数语意学</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Default_Constructor的构造操作"><span class="toc-number">2.1.</span> <span class="toc-text">Default Constructor的构造操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Copy_Constructor的构造操作"><span class="toc-number">2.2.</span> <span class="toc-text">Copy Constructor的构造操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#程序转化语意学"><span class="toc-number">2.3.</span> <span class="toc-text">程序转化语意学</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#成员们的初始化队伍"><span class="toc-number">2.4.</span> <span class="toc-text">成员们的初始化队伍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Data_语意学"><span class="toc-number">3.</span> <span class="toc-text">Data 语意学</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Data_Member的绑定"><span class="toc-number">3.1.</span> <span class="toc-text">Data Member的绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data_Member的布局"><span class="toc-number">3.2.</span> <span class="toc-text">Data Member的布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data_Member的存取"><span class="toc-number">3.3.</span> <span class="toc-text">Data Member的存取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#继承与Data_Member"><span class="toc-number">3.4.</span> <span class="toc-text">继承与Data Member</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多重继承"><span class="toc-number">3.5.</span> <span class="toc-text">多重继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#虚继承"><span class="toc-number">3.6.</span> <span class="toc-text">虚继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象成员的效率"><span class="toc-number">3.7.</span> <span class="toc-text">对象成员的效率</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指向Data_Members的指针"><span class="toc-number">3.8.</span> <span class="toc-text">指向Data Members的指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#取一个nonstatic_data_member的地址，将会得到它在class中的offset"><span class="toc-number">3.9.</span> <span class="toc-text"> 　　取一个nonstatic data member的地址，将会得到它在class中的offset</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Function_语意学"><span class="toc-number">4.</span> <span class="toc-text">Function 语意学</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Member的各种调用方式"><span class="toc-number">4.1.</span> <span class="toc-text">Member的各种调用方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Nonstatic_Member_functions"><span class="toc-number">4.1.1.</span> <span class="toc-text">Nonstatic Member functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Virtual_Member_functions"><span class="toc-number">4.1.2.</span> <span class="toc-text">Virtual Member functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Static_Member_functions"><span class="toc-number">4.1.3.</span> <span class="toc-text">Static Member functions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtual_Member_functions-1"><span class="toc-number">4.2.</span> <span class="toc-text">Virtual Member functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#多重继承下得Virtual_functions"><span class="toc-number">4.2.1.</span> <span class="toc-text">多重继承下得Virtual functions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数的效能"><span class="toc-number">4.3.</span> <span class="toc-text">函数的效能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指向Member_Function的指针"><span class="toc-number">4.4.</span> <span class="toc-text">指向Member Function的指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline_Functions"><span class="toc-number">4.5.</span> <span class="toc-text">Inline Functions</span></a></li></ol></li></ol>
      <hr/>
    </div>
    
    <p>C++对象模型主要解释为：</p>
<ul>
<li>语言中直接支持面向对象程序设计的部分</li>
<li>对于各种支持的底层实现机制</li>
</ul>
<h1 id="关于对象">关于对象</h1><p>　　C语言中，数据和处理数据的操作时分开声明，而C++采用抽象数据类型进行操作。在C++加上封装并未带来<br>布局成本，在布局以及存取时间上主要的额外负担是由virtual引起的：</p>
<ul>
<li>virtual function 机制：用以支持一个有效率的“执行期绑定”。</li>
<li>virtual base blass : 用以实现“多次出现在继承体系中的base class, 有一个单一而被共享的实例”。</li>
<li>多重继承下的一些额外负担。</li>
</ul>
<a id="more"></a>
<h2 id="C++对象模型">C++对象模型</h2><ul>
<li>简单对象模型：members本身不放在objects中，object存储指向member的指针。</li>
<li>表格驱动对象模型：数据与操作分离为两个表格，object存储指向两个表格的指针。</li>
<li>C++对象模型：每一个class产生一堆指向virtual functions的指针，放在virtual table(vtbl)中，每一个class<pre><code><span class="keyword">object</span>安插一个vptr指向相关的<span class="keyword">virtual</span> table，每一个<span class="keyword">class</span>关联的type_info objects信息。
vptr的设定和重置都由每一个<span class="keyword">class</span>的<span class="function"><span class="keyword">constructor</span>, <span class="title">destructor</span>, <span class="title">copy</span> <span class="title">assignment</span>自动完成。</span>
</code></pre></li>
</ul>
<h2 id="关键词所带来的差异">关键词所带来的差异</h2><p>当一个人感觉到比较好的时候，使用struct取代class，注意struct在C++中的逻辑意义和如何正确使用。</p>
<h2 id="对象的差异">对象的差异</h2><p>C++程序设计模型直接支持三种程序设计范式：</p>
<ul>
<li>程序模型</li>
<li>抽象数据类型模型</li>
<li>面向对象模型<br>纯粹以一种范式编写程序，有助于整体行为的良好稳固。</li>
</ul>
<p>C++以下列方式支持多态：</p>
<ul>
<li>经由一组隐式的转化操作，例如把derived class指针转化为一个指向其public bass type的指针</li>
<li>经由virtual function</li>
<li>经由dynamic_cast和typeid运算符<br>多态的主要用途是经由一个共同的接口来影响类型的封装。</li>
</ul>
<p>需要多少内存才能够表示一个class object:</p>
<ul>
<li>其nonstatic data members的总和大小</li>
<li>任何alignment的需要而填补的空间</li>
<li>为了支持virtual 而由内部产生的任何额外负担</li>
</ul>
<hr>
<h1 id="构造函数语意学">构造函数语意学</h1><h2 id="Default_Constructor的构造操作">Default Constructor的构造操作</h2><p>default constructors在需要的时候被编译器产生出来，但需要注意的是这种需要时编译器方面的而不是程序的需要。<br>一个由于为声明constructor函数而被隐式声明的default constructor将是一个trivial（无用） constructor，在某些情况<br>编译器将会生成nontrivial default constructor.</p>
<ul>
<li><p>带有Defulat Constructor 的Member Class Object：<br>　　在constructor真正被调用生成，编译器在包含这样member的constructor中自动扩张，将member的constructor行为先进行<br>运行，其调用顺序根据member objects在class中的声明顺序决定。</p>
</li>
<li><p>带有Default Constructor 的Base Class<br>　与上面同理，bass class的constructor先进行调用。</p>
</li>
<li><p>带有一个Virtual Function的Class<br>　　class声明或者继承一个virtual Function  /  class派生自一个继承链，其中有一个或多个virtual base classes.<br>一个virtual function table 会被编译器生成，内放virtual function地址。vptr内含vtbl的地址。</p>
</li>
<li><p>带有Virtual Base Class 的 Class</p>
</li>
</ul>
<h2 id="Copy_Constructor的构造操作">Copy Constructor的构造操作</h2><p>有三种情况使得一个object的内容作为另一个class object的初值：</p>
<ul>
<li>对一个object做显示的初始化操作</li>
<li>当object被当做参数交给某个函数时</li>
<li>当函数传回一个class object时</li>
</ul>
<p>Default Memberwise Initialization:为定义一个explicit copy constructor时，将object使用递归方式拷贝每个成员。</p>
<p>当class不展现Bitwise Copy Semantics时会合成copy constructor:</p>
<ul>
<li>当class内含一个声明有copy constructorh的member object</li>
<li>继承的base class有一个copy constructor(不论是显示声明还是合成而得)</li>
<li>当class声明一个多多个virtual functions</li>
<li>当class派生于继承链，其中有一个或多个virtual base classes</li>
</ul>
<h2 id="程序转化语意学">程序转化语意学</h2><h2 id="成员们的初始化队伍">成员们的初始化队伍</h2><ul>
<li>初始化一个reference member</li>
<li>初始化一个const member</li>
<li>调用一个base class的constructor,而他拥有一组参数</li>
<li>调用一个member class的constructor， 而它有一组参数<br>initialization list的初始化会被以适当的顺序在constructor之内安插初始化操作，并且在任何explicit user code之前。</li>
</ul>
<hr>
<h1 id="Data_语意学">Data 语意学</h1><ul>
<li>语言本身所造成的额外负担</li>
<li>编译器对于特殊情况所提供的优化处理</li>
<li>Alignment限制</li>
</ul>
<h2 id="Data_Member的绑定">Data Member的绑定</h2><p>   一个inline函数实体，在整个class声明未被完全看见之前，是不会被评估求值得。</p>
<h2 id="Data_Member的布局">Data Member的布局</h2><p>　　static data merbers不会被放进class的布局中，members的顺序根据编译器而定，较晚出现的members有较高的地址。</p>
<h2 id="Data_Member的存取">Data Member的存取</h2><ul>
<li><p>Static Data Members<br>　　static 成员只有一个实例，通过一个指针和对象存取member结果一样。若取一个static data member的地址会得到一个指向<br>其数据类型的指针。name-mangling对其进行独一性的编码。</p>
</li>
<li><p>Nonstatic Data Members<br>　　在成员函数内，data members通过隐式的this指针进行访问，不同data数据的访问是通过对class object地址进行偏移进行访问。<br>Data members的地址在编译期即可获得，当使用继承之类的机制，data members的存取效率会受到影响。</p>
</li>
</ul>
<h2 id="继承与Data_Member">继承与Data Member</h2><p>　　具体继承并不会增加空间或者存取时间的额外负担。但加上多态机制之后情况就会有所不同，vtbl 和vptr的创建，constructor和destructor对<br>vtbl和vptr的设定和销毁都会带来空间和时间上的负担。<br>　　将vptr放在class object的尾端可以保留base class C struct的对象布局。将vptr放在class object的前端对于在多重继承下，通过指向class<br>members的指针调用virtual function带来一些帮助。</p>
<h2 id="多重继承">多重继承</h2><h2 id="虚继承">虚继承</h2><h2 id="对象成员的效率">对象成员的效率</h2><h2 id="指向Data_Members的指针">指向Data Members的指针</h2><h2 id="取一个nonstatic_data_member的地址，将会得到它在class中的offset"> 　　取一个nonstatic data member的地址，将会得到它在class中的offset</h2><h1 id="Function_语意学">Function 语意学</h1><h2 id="Member的各种调用方式">Member的各种调用方式</h2><h3 id="Nonstatic_Member_functions">Nonstatic Member functions</h3><ul>
<li>改写函数的signature以安插一个额外参数（this)到member function以提供存取管道，使得class object得以将此函数调用。</li>
<li>将每一个“对nonstatic data member”的存取操作改为经由this指针来存取。</li>
<li>将member function通过mangling重新写成一个独一无二的·外部函数。</li>
</ul>
<h3 id="Virtual_Member_functions">Virtual Member functions</h3><p>  通过虚运行机制进行调用。</p>
<h3 id="Static_Member_functions">Static Member functions</h3><ul>
<li>没有this指针</li>
<li>不能直接存取class中的nonstatic members</li>
<li>不能够被声明为const, volatile， virtual</li>
<li>不需要经由class object才被调用</li>
<li>取一个这样的地址将获得其内存中的地址吗,是一个nonmember函数指针。</li>
</ul>
<h2 id="Virtual_Member_functions-1">Virtual Member functions</h2><p>　　多态以一个public base class的指针或引用寻址出一个derived class object。每个多态class object增加两个members<br>一个字符串或数据表示class的类型和一个指向某个表格的指针（vptr),为了找到函数地址，每一个virtual function被指派一个表格<br>索引值。</p>
<h3 id="多重继承下得Virtual_functions">多重继承下得Virtual functions</h3><h2 id="函数的效能">函数的效能</h2><h2 id="指向Member_Function的指针">指向Member Function的指针</h2><p>　　取一个nonstatic member function的地址得到的时它在内存中真正的地址，这个值不是完全的，需要被绑定到某个class object上才能<br>够通过它调用该函数。</p>
<h2 id="Inline_Functions">Inline Functions</h2><ul>
<li>分析函数定义</li>
<li>真正的inline函数扩展操作是在调用的那一点上。</li>
</ul>

  
</div>

    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/17/MoreEffectiveC++/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          More Effective C++总结
        
      </div>
    </a>
  
  
    <a href="/2015/12/16/Cocos2dx-AndroidStudio/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Cocos2dx-AndroidStudio</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="C++ObjectModel" data-title="深度探索C++对象模型总结" data-url="http://byhj.github.io/2015/12/17/C++ObjectModel/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 byhj
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>